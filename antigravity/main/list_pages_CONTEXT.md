# List Pages (`projects-list.html`, `stage-list.html`) 開発コンテキスト

本ドキュメントは、企画一覧およびステージ発表一覧ページの開発ガイドラインです。

## 1. 企画一覧 (`projects-list.html`)

### 1.1 概要

- **役割**: クラス企画、部活動展示、食品販売などの全企画を網羅的にリスト表示する。
- **データソース**: Firestore `projects` コレクション (または静的 JSON)。

### 1.2 機能要件

- **タブ切り替え / フィルタリング**:
  - **カテゴリ**: 食品 (Food) / 展示 (Exhibit) / 体験 (Experience) / その他。
  - **場所**: 校舎・フロアごとの絞り込み（マップとの連携も視野）。
- **リストアイテム表示**:
  - サムネイル画像
  - 企画名（クラス名・団体名）
  - カテゴリバッジ
  - 混雑状況（_Future_: リアルタイム更新）
- **詳細モーダル**:
  - クリックで詳細情報をモーダル表示（説明文、PR 動画、場所詳細など）。
- **モバイルオーダー連携 (2026-02-02)**:
  - 食品取扱企画（`contentType='menu'` またはタグ「食品」）の場合、「オーダー」ボタンを表示。
  - ボタン押下で `../pos/mobile-order.html?store={id}` へ遷移し、該当店舗のメニュー画面を直接開く。

- **モバイルオーダー連携 (2026-02-02)**:
  - 食品取扱企画（`contentType='menu'` またはタグ「食品」）の場合、「オーダー」ボタンを表示。
  - ボタン押下で `../pos/mobile-order.html?store={id}` へ遷移し、該当店舗のメニュー画面を直接開く。

## 2. 企画詳細 (`detail.html`)

### 2.1 概要

- **役割**: 個別の企画・展示の詳細情報を表示する。
- **データソース**: `projects-list.html` と同様 (`data.js`)。

### 2.2 機能要件

- **ヘッダー**: 企画画像を背景にしたリッチなヘッダー表示。
- **タブ UI**:
  - **基本情報**: 説明文。
  - **メニュー**: 食品企画の場合、提供メニューを表示。**モバイルオーダーへの連携ボタン**（2026-02-02 追加）を配置。
  - **ギャラリー**: 画像ギャラリー。
  - **スケジュール**: ステージ発表やタイムスケジュールがある場合に表示。

## 3. ステージ発表 (`stage-list.html`)

### 2.1 概要

- **役割**: ステージイベントのスケジュール（タイムテーブル）を表示する。
- **データソース**: Firestore `events` コレクション (または静的 JSON)。

### 2.2 機能要件

- **タイムライン UI**:
  - 時間軸に沿ってイベントを縦に並べる。
  - **現在開催中 (Now Playing)** のイベントを強調表示（スクロール位置の自動調整）。
- **場所切り替え**:
  - 体育館ステージ / 中庭ステージ / 視聴覚室 などのタブ切り替え。
- **お気に入り機能**:
  - 気になるイベントを「お気に入り」登録し、開始前に通知（_Future_）。

## 3. 共通仕様デザイン

- **App Shell**: 共通のヘッダー・ボトムナビを使用。
- **リストデザイン**:
  - `projects-list.html`: `index.html` の高密度なリストビューに合わせ、モバイルファーストで情報を圧縮して表示。サムネイルは正方形(60-80px)、テキスト情報は右側に配置。
  - カードスタイル: グラスモーフィズム（背景透過・ぼかし）を採用し、モダンな印象に。
- **フィルタセクション**:
  - 画面占有率を下げるためパディングを最小限にし、透明感を強調したパネルデザイン。
- **ローディング**: データ取得中およびフィルタ切り替え時は、カード型のスケルトンスクリーン（シマー効果付き）を表示。
